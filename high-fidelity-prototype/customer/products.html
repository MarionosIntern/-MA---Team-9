<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Product Details - Centrix Marketplace</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/styles.css">
  </head>
  <body>
    <header class="site-header py-3 border-bottom">
      <div class="container d-flex align-items-center justify-content-between">
        <a href="index.html" class="d-flex align-items-center text-decoration-none">
          <img src="https://videos.openai.com/vg-assets/assets%2Ftask_01k45fkm6qf1n866wgcc5150rn%2F1756825911_img_1.webp?st=2025-09-22T13%3A36%3A07Z&se=2025-09-28T14%3A36%3A07Z&sks=b&skt=2025-09-22T13%3A36%3A07Z&ske=2025-09-28T14%3A36%3A07Z&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skoid=cfbc986b-d2bc-4088-8b71-4f962129715b&skv=2019-02-02&sv=2018-11-09&sr=b&sp=r&spr=https%2Chttp&sig=HPzmo8S40QrAaVTHISr%2Brzb6xRpruHTeopVKPwLiZHM%3D&az=oaivgprodscus" alt="Centrix Marketplace logo" width="56" height="56" class="me-2">
          <span class="h4 mb-0">Centrix Marketplace</span>
        </a>
        <div>
          <a href="favorites.html" class="me-3">Favorites</a>
          <a href="signin.html" class="btn btn-outline-primary btn-sm">Sign in</a>
        </div>
      </div>
    </header>

    <main class="container py-5" id="main">
      <div id="product-area">Loading…</div>
    </main>

    <script>
      // Simple product data map - expand as needed
      const PRODUCTS = {
        'product-1': {id:'product-1', title:'Graphic Tee', price:'$15', img:'https://www.snipesusa.com/dw/image/v2/BFKF_PRD/on/demandware.static/-/Sites-snipes-master-catalog/default/dw96d9fa8a/images/hi-res/graphic-tees_scft23-01_01.jpg?sw=400&sh=502&strip=false', desc:'A comfortable graphic tee.'},
        'product-2': {id:'product-2', title:"Womens Cargo Pants", price:'$19.99', img:'https://img4.dhresource.com/webp/m/0x0/f3/albu/jc/j/14/c5526e84-cc7e-4aa0-aded-81a47f9f0495.jpg', desc:'Durable cargo pants with multiple pockets.'},
        'product-3': {id:'product-3', title:'Panda Dunks', price:'$120', img:'assets/product-3.svg', desc:'Limited edition sneakers.'},
        'product-4': {id:'product-4', title:'Sony Camera', price:'$499', img:'assets/product-4.svg', desc:'High-resolution camera for pros.'},
        'product-5': {id:'product-5', title:'Beats Headphones', price:'$199', img:'assets/product-5.svg', desc:'Noise-cancelling headphones.'},
        'product-6': {id:'product-6', title:'iPhone', price:'$500', img:'assets/product-6.svg', desc:'Latest smartphone.'}
      };

      function getParam(name){
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
      }

      (function(){
        const id = getParam('id');
        const area = document.getElementById('product-area');
        if(!id || !PRODUCTS[id]){ area.innerHTML = '<div class="alert alert-warning">Product not found. <a href="index.html">Return to shop</a></div>'; return; }
        const p = PRODUCTS[id];
        area.innerHTML = `
          <div class="row g-4">
            <div class="col-md-5"><img src="${p.img}" alt="${p.title}" class="img-fluid rounded"></div>
            <div class="col-md-7">
              <h1 class="h3">${p.title}</h1>
              <p class="text-muted">${p.price}</p>
              <p>${p.desc}</p>
              <div class="d-flex gap-2">
                <button id="fav-btn" class="btn btn-outline-danger">♥ Favorite</button>
                <button id="cart-btn" class="btn btn-primary">Add to cart</button>
                <a href="favorites.html" class="btn btn-link">View favorites</a>
              </div>
            </div>
          </div>
        `;

        // favorites logic
        const STORAGE_KEY = 'centrix_favorites';
        function readFavs(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }catch(e){return []} }
        function writeFavs(list){ localStorage.setItem(STORAGE_KEY, JSON.stringify(list)); }
        const favBtn = document.getElementById('fav-btn');
        const cartBtn = document.getElementById('cart-btn');
        const current = readFavs();
        if(current.indexOf(id)!==-1){ favBtn.classList.add('active'); favBtn.textContent = '♥ Favorited'; }
        favBtn.addEventListener('click', function(){
          const list = readFavs();
          const idx = list.indexOf(id);
          if(idx===-1){ list.push(id); writeFavs(list); favBtn.classList.add('active'); favBtn.textContent = '♥ Favorited'; }
          else { list.splice(idx,1); writeFavs(list); favBtn.classList.remove('active'); favBtn.textContent = '♥ Favorite'; }
          // Update header count if present
          try{ const count = document.querySelector('#favorites-count'); if(count){ count.textContent = readFavs().length; count.style.display = readFavs().length? 'inline-block':'none'; } }catch(e){}
        });

        cartBtn.addEventListener('click', function(){
          alert('Added to cart (demo)');
        });
      })();
    </script>
  </body>
</html>
